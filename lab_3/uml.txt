@startuml
actor "Клиент" as actor
boundary "Биллинг система" as billing
control "POS терминал (онлайн-касса)" as pos
entity "Сервер управления ресурсами" as server
database "БД: Товары" as db
database "БД: Активные услуги" as db2



actor -> billing: Товар или Услуга
actor -> pos: Денежные средства
pos-> actor: Чек с купленным товаром
pos -> billing: Информация об успешном проведении оплаты
billing -> server: Код товара
billing -> pos: Обработка (преобразование) штрихкода
server -> db: Изменение количества оставшегося товара
db2 -> server: Подтверждения операции педоставления услуги/товара 
server -> db2: Фиксирование информации о статусе услуги
server -> pos: "Оплачено"
db -> server: Сообщение об успешном изменении строк
@enduml